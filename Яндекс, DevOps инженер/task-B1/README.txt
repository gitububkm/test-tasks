===============================================================================
Задание B1: "Простой скрипт-помощник" (Bash)
===============================================================================

ОПИСАНИЕ ПРОЕКТА
===============================================================================

Проект содержит bash-скрипт clean_old_logs.sh, который находит и удаляет 
старые log-файлы с подтверждением пользователя.

Скрипт предназначен для автоматизации очистки лог-файлов, которые занимают 
место на диске и больше не нужны.

ФУНКЦИОНАЛЬНОСТЬ
===============================================================================

Скрипт clean_old_logs.sh выполняет следующие функции:

1. Принимает два аргумента:
   - путь к директории (/path/to/logs)
   - количество дней (N)

2. Находит все файлы с расширением .log в указанной директории, которые 
   старше N дней

3. Выводит список найденных файлов на экран

4. Запрашивает подтверждение у пользователя: "Удалить эти файлы? (y/n)"

5. При подтверждении 'y' - удаляет найденные файлы
   При подтверждении 'n' - завершает работу без удаления

6. Если аргументы не переданы, выводит справку по использованию скрипта

ТРЕБОВАНИЯ
===============================================================================

- Linux/Unix система или WSL (Windows Subsystem for Linux)
- Bash интерпретатор (обычно предустановлен)
- Права на чтение указанной директории
- Права на удаление файлов (при подтверждении)

УСТАНОВКА
===============================================================================

1. Скопируйте файл clean_old_logs.sh в нужную директорию

2. Сделайте скрипт исполняемым:
   chmod +x clean_old_logs.sh

3. Готово! Скрипт можно использовать

ИСПОЛЬЗОВАНИЕ
===============================================================================

СИНТАКСИС
---------

./clean_old_logs.sh <путь_к_директории> <количество_дней>

АРГУМЕНТЫ
---------

<путь_к_директории>  - Путь к директории, в которой нужно искать log-файлы
                       Можно использовать абсолютный или относительный путь

<количество_дней>    - Целое число, указывающее возраст файлов
                       Файлы старше указанного количества дней будут найдены

ПРИМЕРЫ
===============================================================================

Пример 1: Показать справку (без аргументов)
---------

$ ./clean_old_logs.sh

Вывод:
  Ошибка: Неверное количество аргументов
  
  Использование: ./clean_old_logs.sh <путь_к_директории> <количество_дней>
  ...


Пример 2: Найти log-файлы старше 30 дней в /var/log
---------

$ ./clean_old_logs.sh /var/log 30

Вывод:
  Найдены следующие файлы старше 30 дней:
  ----------------------------------------
  /var/log/old_app.log
  /var/log/backup.log
  ----------------------------------------
  Удалить эти файлы? (y/n): 


Пример 3: Найти log-файлы старше 7 дней в текущей директории
---------

$ ./clean_old_logs.sh . 7


Пример 4: Найти log-файлы старше 90 дней в домашней директории
---------

$ ./clean_old_logs.sh ~ 90


Пример 5: Обработка ошибок (несуществующая директория)
---------

$ ./clean_old_logs.sh /несуществующая/директория 10

Вывод:
  Ошибка: Директория '/несуществующая/директория' не существует


РАБОТА НА WINDOWS
===============================================================================

Если вы работаете на Windows, используйте WSL (Windows Subsystem for Linux):

1. Установите WSL и дистрибутив Linux (например, Ubuntu или Kali Linux)

2. Откройте терминал WSL

3. Перейдите в директорию со скриптом:
   cd /mnt/c/путь/к/директории/task-B1

4. Сделайте скрипт исполняемым:
   chmod +x clean_old_logs.sh

5. Запустите скрипт:
   ./clean_old_logs.sh /var/log 30

Примечание: В WSL путь к диску C: выглядит как /mnt/c/

ТЕСТИРОВАНИЕ
===============================================================================

Для тестирования скрипта создайте тестовую директорию:

1. Создайте тестовую директорию:
   mkdir -p ~/test_logs

2. Создайте тестовые .log файлы:
   touch ~/test_logs/file1.log
   touch ~/test_logs/file2.log
   
   # Создать файл с измененной датой (5 дней назад)
   touch -t $(date -d '5 days ago' +%Y%m%d%H%M.%S) ~/test_logs/old_file.log

3. Запустите скрипт:
   ./clean_old_logs.sh ~/test_logs 3

4. Скрипт найдет old_file.log (старше 3 дней) и спросит подтверждение

5. Введите 'y' для удаления или 'n' для отмены

СТРУКТУРА ПРОЕКТА
===============================================================================

task-B1/
  └── clean_old_logs.sh    - Основной скрипт для удаления старых log-файлов

ОПИСАНИЕ АЛГОРИТМА
===============================================================================

1. Проверка количества аргументов (должно быть 2)
2. Проверка существования указанной директории
3. Проверка, что количество дней - это число
4. Поиск файлов с расширением .log старше N дней (команда find)
5. Проверка, найдены ли файлы
6. Вывод списка найденных файлов
7. Запрос подтверждения у пользователя
8. Обработка ответа:
   - 'y' или 'Y' - удаление файлов
   - 'n' или 'N' - отмена операции
   - другой ввод - ошибка и завершение

ОСОБЕННОСТИ
===============================================================================

- Скрипт запрашивает подтверждение перед удалением (безопасность)
- Выводит подробную информацию о найденных файлах
- Показывает справку при неправильном использовании
- Проверяет корректность входных данных
- Обрабатывает ошибки (несуществующая директория, неверные аргументы)

ОГРАНИЧЕНИЯ
===============================================================================

- Скрипт работает только с файлами, имеющими расширение .log
- Поиск происходит только в указанной директории (без рекурсии)
- Скрипт не проверяет права доступа перед поиском файлов
- Поддерживаются только файлы с расширением .log (регистр имеет значение)

ВОЗМОЖНЫЕ УЛУЧШЕНИЯ
===============================================================================

- Добавить рекурсивный поиск в поддиректориях
- Добавить поддержку других расширений файлов
- Добавить логирование удаленных файлов
- Добавить опцию для автоматического удаления без подтверждения
- Добавить фильтрацию по размеру файлов
- Добавить возможность восстановления удаленных файлов

АВТОР
===============================================================================

Скрипт создан в рамках выполнения тестового задания B1.

ЛИЦЕНЗИЯ
===============================================================================

Данный скрипт предоставляется "как есть" для целей выполнения тестового 
задания.

ПОДДЕРЖКА
===============================================================================

При возникновении проблем проверьте:

1. Правильность пути к директории
2. Права доступа к директории и файлам
3. Правильность синтаксиса команды
4. Наличие bash интерпретатора в системе
5. Права на выполнение скрипта (chmod +x)

ПРОВЕРКА РАБОТОСПОСОБНОСТИ
===============================================================================

Для проверки выполнения задания убедитесь, что:

✓ Создан файл clean_old_logs.sh
✓ Скрипт принимает два аргумента
✓ Скрипт находит .log файлы старше N дней
✓ Скрипт выводит список файлов
✓ Скрипт запрашивает подтверждение (y/n)
✓ Скрипт удаляет файлы при подтверждении 'y'
✓ Скрипт показывает справку при отсутствии аргументов
✓ Скрипт исполняемый (chmod +x выполнен)

===============================================================================
Конец документации
===============================================================================
